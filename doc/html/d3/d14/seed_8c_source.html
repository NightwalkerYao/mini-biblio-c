<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>La Mini-Biblio:  Fichier source de /home/nightwalker/Class/C_Adv/biblio/lib/seed.c</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">La Mini-Biblio
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Mini application de gestion d&#39;une Bibliotheque</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.2 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Recherche');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/d14/seed_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">seed.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;sqlite3.h&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;../inc/sqlite3_client.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;../inc/seed.h&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef _SEED_</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define _SEED_</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> callback(<span class="keywordtype">void</span> *NotUsed, <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, <span class="keywordtype">char</span> **azColName) {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="../../d6/d16/seed_8h.html#ad8c8e513fc132a7e15a7879ad0e27ab8">   15</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d16/seed_8h.html#ad8c8e513fc132a7e15a7879ad0e27ab8">seed</a>() {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  sqlite3 *dbh;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <span class="keywordtype">char</span> *zErrMsg = 0;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="keywordtype">int</span> rc;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  rc = sqlite3_open(<a class="code" href="../../dd/da3/sqlite3__client_8h.html#a47d65c930f9eac8a7d8277affeba949b">DB_FILE</a>, &amp;dbh);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="keywordflow">if</span>(rc) {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;\033[31mErreur SQLite3 :: \033[1m%s\033[0m\n&quot;</span>, sqlite3_errmsg(dbh));</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    exit(1);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  }</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordtype">char</span> *Query = <span class="stringliteral">&quot;INSERT INTO livres(id, titre, auteur, editeur, resume, reference) VALUES\</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral">  (NULL, &#39;Mastering C Programming in 7 days&#39;, &#39;Confused Programer&#39;, &#39;Packt Pub&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;2366UT909&#39;),\</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">  (NULL, &#39;La Ronde Des Jours&#39;, &#39;Bernard B. Dadie&#39;, &#39;CEDA&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;9870IU67&#39;),\</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral">  (NULL, &#39;Zadig ou la Destinee&#39;, &#39;Voltaire&#39;, &#39;Belin&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;23124TY090&#39;),\</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">  (NULL, &#39;Rebelle&#39;, &#39;Fatou Keita&#39;, &#39;NEI&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;08757HG9&#39;),\</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral">  (NULL, &#39;Never Trust Anyone!&#39;, &#39;Anonymous&#39;, &#39;Unknown&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;9PYU67578&#39;),\</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">  (NULL, &#39;Rui Blas&#39;, &#39;Victor Hugo&#39;, &#39;Nathan&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;9PYU67548&#39;),\</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">  (NULL, &#39;Hamlet&#39;, &#39;Shakespear&#39;, &#39;Flamarion&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;956U67578&#39;),\</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">  (NULL, &#39;La Voie de Ma Rue&#39;, &#39;Sylvain Kean Zo&#39;, &#39;Valesse&#39;, &#39;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&#39;, &#39;9PYU67545&#39;);&quot;</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// printf(&quot;SQL :: %s\n&quot;, Query);</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  printf(<span class="stringliteral">&quot;Ajout des Livres...\n&quot;</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  rc = sqlite3_exec(dbh, Query, callback, 0, &amp;zErrMsg);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">if</span>( rc != SQLITE_OK ){</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;\033[31mErreur SQL :: \033[1m%s\033[0m\n&quot;</span>, zErrMsg);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    sqlite3_free(zErrMsg);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    fprintf(stdout, <span class="stringliteral">&quot;\033[32mLivres ajoutés avec succès !\033[0m\n&quot;</span>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  Query = <span class="stringliteral">&quot;INSERT INTO adherents(id, nom, contact, adresse) VALUES\</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">  (NULL, &#39;Touré Marie Rose&#39;, &#39;marie@rose.com&#39;, &#39;545 Rue du commerce, Plateau&#39;),\</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral">  (NULL, &#39;Kouadio Louis&#39;, &#39;07463242423&#39;, &#39;Yopougon Academie&#39;),\</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="stringliteral">  (NULL, &#39;Sam Smith&#39;, &#39;0145353409&#39;, &#39;66000 CEDEX Paris&#39;),\</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">  (NULL, &#39;Sanogo Ahmed&#39;, &#39;0589324242&#39;, &#39;Adjamé 220 Logements&#39;),\</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral">  (NULL, &#39;Nanan Leblanc&#39;, &#39;05656423423&#39;, &#39;BP 300 Issia&#39;),\</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">  (NULL, &#39;Anabelle Dupont&#39;, &#39;03229787908&#39;, &#39;Porte du Port, Marseille&#39;),\</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="stringliteral">  (NULL, &#39;Blé Mathurin&#39;, &#39;0753424240&#39;, &#39;Bouaké Air France&#39;),\</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="stringliteral">  (NULL, &#39;Digbeu Steve&#39;, &#39;04845352243&#39;, &#39;KM 4 Bvd Marseille Treichville&#39;);&quot;</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  printf(<span class="stringliteral">&quot;Ajout des Adhérents...\n&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  rc = sqlite3_exec(dbh, Query, callback, 0, &amp;zErrMsg);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span>( rc != SQLITE_OK ){</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;\033[31mErreur SQL :: \033[1m%s\033[0m\n&quot;</span>, zErrMsg);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    sqlite3_free(zErrMsg);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    fprintf(stdout, <span class="stringliteral">&quot;\033[32mAdhérents ajoutés avec succès !\033[0m\n&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  sqlite3_close(dbh);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="aseed_8h_html_ad8c8e513fc132a7e15a7879ad0e27ab8"><div class="ttname"><a href="../../d6/d16/seed_8h.html#ad8c8e513fc132a7e15a7879ad0e27ab8">seed</a></div><div class="ttdeci">void seed(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d14/seed_8c_source.html#l00015">seed.c:15</a></div></div>
<div class="ttc" id="asqlite3__client_8h_html_a47d65c930f9eac8a7d8277affeba949b"><div class="ttname"><a href="../../dd/da3/sqlite3__client_8h.html#a47d65c930f9eac8a7d8277affeba949b">DB_FILE</a></div><div class="ttdeci">const char * DB_FILE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd6/sqlite3__client_8c_source.html#l00011">sqlite3_client.c:11</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><b>seed.c</b></li>
    <li class="footer">Généré par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
